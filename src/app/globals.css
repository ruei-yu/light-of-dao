@import "tailwindcss";

/* ===== v4 全域樣式 ===== */
@layer base {
  html, body {
    height: 100%;
    min-height: 100svh;      /* 避免 iOS 地址列壓縮背景 */
    overflow-x: hidden;
    color: rgb(15 23 42); /* slate-800 */
    -webkit-font-smoothing: antialiased;
    background: transparent !important;
    position: relative;
  }
}

/* ===== 元件設定 ===== */
@layer components {
  .container-narrow { @apply max-w-3xl mx-auto px-4 sm:px-6 lg:px-8; }
  .card { @apply rounded-2xl bg-white/80 backdrop-blur shadow-md ring-1 ring-black/5; }
  .btn { @apply inline-flex items-center justify-center rounded-xl px-4 py-3 text-base font-medium transition hover:shadow-md active:scale-[0.99]; }
  .btn-primary { @apply bg-slate-900 text-white hover:bg-slate-800; }
  .option {
    @apply rounded-2xl bg-white/80 backdrop-blur shadow-md ring-1 ring-black/5
           p-4 text-left cursor-pointer transition hover:-translate-y-[1px] hover:shadow-lg;
  }
  .option-selected { @apply ring-2 ring-slate-900/70 shadow-lg bg-white; }
}

/* ===== 柔和多彩暈染背景 ===== */
.aura-bg {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background:
    radial-gradient(circle at 50% 50%, rgba(255,255,255,1) 0%, rgba(255,255,255,0.8) 25%, rgba(255,255,255,0) 60%),
    radial-gradient(1200px 900px at 0% 0%, rgba(255,182,193,0.6) 0%, rgba(255,182,193,0) 70%),
    radial-gradient(1200px 900px at 100% 0%, rgba(255,195,140,0.6) 0%, rgba(255,195,140,0) 70%),
    radial-gradient(1000px 800px at 60% -10%, rgba(255,250,180,0.6) 0%, rgba(255,250,180,0) 70%),
    radial-gradient(1200px 900px at 50% 110%, rgba(180,255,210,0.5) 0%, rgba(180,255,210,0) 70%),
    radial-gradient(1200px 900px at 0% 100%, rgba(173,216,230,0.6) 0%, rgba(173,216,230,0) 70%),
    radial-gradient(1200px 900px at 100% 100%, rgba(216,191,255,0.6) 0%, rgba(216,191,255,0) 70%);
  background-blend-mode: lighten;
  filter: blur(40px) saturate(120%);
  opacity: 1;
}

/* 網格層（可省略） */
.aura-grid {
  position: relative;
  isolation: isolate;
  z-index: 1;
}
.aura-grid::before {
  content: "";
  position: absolute;
  inset: 0;
  z-index: -1;
  background-image:
    linear-gradient(to right, rgba(2,6,23,0.03) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(2,6,23,0.03) 1px, transparent 1px);
  background-size: 24px 24px;
  pointer-events: none;
}

/* 全站固定柔彩背景 */
html::before{
  content:"";
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  background:
    linear-gradient(180deg,
      rgba(244,114,182,0.05) 0%,
      rgba(251,146,60,0.04) 20%,
      rgba(253,224,71,0.04) 40%,
      rgba(52,211,153,0.04) 60%,
      rgba(96,165,250,0.04) 80%,
      rgba(192,132,252,0.05) 100%),
    radial-gradient(85vw 75vh at -10% -10%, rgba(255,182,193,0.70) 0%, rgba(255,182,193,0) 60%),
    radial-gradient(85vw 75vh at 110% -10%, rgba(251,176,102,0.70) 0%, rgba(251,176,102,0) 60%),
    radial-gradient(85vw 75vh at -10% 110%, rgba(160,200,255,0.70) 0%, rgba(160,200,255,0) 60%),
    radial-gradient(85vw 75vh at 110% 110%, rgba(196,170,255,0.70) 0%, rgba(196,170,255,0) 60%),
    radial-gradient(60vw 50vh at 50% -20%, rgba(255,245,157,0.70) 0%, rgba(255,245,157,0) 60%),
    radial-gradient(60vw 50vh at 50% 120%, rgba(152,236,197,0.60) 0%, rgba(152,236,197,0) 60%);
  background-repeat: no-repeat;
  background-size: cover;
  filter: blur(36px) saturate(116%);
}

/* === 手機：柔和擴散 === */
@media (max-width: 640px) {
  .aura-bg {
    filter: blur(16px) saturate(112%);
    opacity: 0.9;
    background:
      radial-gradient(circle at 50% 55%, rgba(255,255,255,1) 0%, rgba(255,255,255,0.85) 22%, rgba(255,255,255,0) 58%),
      radial-gradient(120vw 95vh at -20% -20%, rgba(255,182,193,0.50) 0%, rgba(255,182,193,0) 78%),
      radial-gradient(120vw 95vh at 120% -20%, rgba(251,176,102,0.50) 0%, rgba(251,176,102,0) 78%),
      radial-gradient(120vw 95vh at 50% -30%,  rgba(255,250,180,0.46) 0%, rgba(255,250,180,0) 80%),
      radial-gradient(130vw 100vh at 50% 130%, rgba(152,236,197,0.46) 0%, rgba(152,236,197,0) 80%),
      radial-gradient(120vw 95vh at -20% 120%, rgba(160,200,255,0.50) 0%, rgba(160,200,255,0) 78%),
      radial-gradient(120vw 95vh at 120% 120%, rgba(196,170,255,0.50) 0%, rgba(196,170,255,0) 78%);
    background-blend-mode: lighten;
  }

  html::before{
    filter: blur(18px) saturate(112%);
    background:
      linear-gradient(180deg,
        rgba(244,114,182,0.04) 0%,
        rgba(251,146,60,0.035) 20%,
        rgba(253,224,71,0.035) 40%,
        rgba(52,211,153,0.035) 60%,
        rgba(96,165,250,0.035) 80%,
        rgba(192,132,252,0.04) 100%),
      radial-gradient(120vw 100vh at -25% -25%, rgba(255,182,193,0.55) 0%, rgba(255,182,193,0) 82%),
      radial-gradient(120vw 100vh at 125% -25%, rgba(251,176,102,0.55) 0%, rgba(251,176,102,0) 82%),
      radial-gradient(120vw 100vh at -25% 125%, rgba(160,200,255,0.55) 0%, rgba(160,200,255,0) 82%),
      radial-gradient(120vw 100vh at 125% 125%, rgba(196,170,255,0.55) 0%, rgba(196,170,255,0) 82%),
      radial-gradient(95vw 80vh at 50% -35%,  rgba(255,245,157,0.55) 0%, rgba(255,245,157,0) 82%),
      radial-gradient(95vw 80vh at 50% 135%,  rgba(152,236,197,0.48) 0%, rgba(152,236,197,0) 82%);
    background-size: cover;
    background-repeat: no-repeat;
  }
}

/* === 封面 hero-section 背景（柔光擴散） === */
.hero-section{
  position: relative;
  isolation: isolate;
}
.hero-section > *{
  position: relative;
  z-index: 2;
}
.hero-section::before{
  content:"";
  position: absolute;
  inset: -6% -6%;
  z-index: 1;
  pointer-events: none;
  background:
    radial-gradient(circle at 50% 35%, rgba(255,255,255,1) 0%, rgba(255,255,255,0.85) 24%, rgba(255,255,255,0) 60%),
    radial-gradient(1200px 800px  at -10% -15%, rgba(255,182,193,0.45) 0%, rgba(255,182,193,0) 70%),
    radial-gradient(1200px 800px  at 110% -15%, rgba(251,176,102,0.45) 0%, rgba(251,176,102,0) 70%),
    radial-gradient(1100px 750px  at 60% -20%,  rgba(255,250,180,0.40) 0%, rgba(255,250,180,0) 75%),
    radial-gradient(1300px 900px  at 50% 115%,  rgba(152,236,197,0.42) 0%, rgba(152,236,197,0) 75%),
    radial-gradient(1200px 850px  at -10% 110%, rgba(160,200,255,0.45) 0%, rgba(160,200,255,0) 70%),
    radial-gradient(1200px 850px  at 110% 110%, rgba(196,170,255,0.45) 0%, rgba(196,170,255,0) 70%);
  background-blend-mode: lighten;
  filter: blur(24px) saturate(116%);
  opacity: .95;
}
@media (max-width: 640px){
  .hero-section::before{
    inset: -8% -8%;
    background:
      radial-gradient(circle at 50% 42%, rgba(255,255,255,1) 0%, rgba(255,255,255,0.86) 26%, rgba(255,255,255,0) 66%),
      radial-gradient(130vw 100vh at -25% -25%, rgba(255,182,193,0.40) 0%, rgba(255,182,193,0) 85%),
      radial-gradient(130vw 100vh at 125% -25%, rgba(251,176,102,0.40) 0%, rgba(251,176,102,0) 85%),
      radial-gradient(115vw 90vh  at 60% -30%,  rgba(255,250,180,0.38) 0%, rgba(255,250,180,0) 85%),
      radial-gradient(115vw 90vh  at 50% 130%,  rgba(152,236,197,0.40) 0%, rgba(152,236,197,0) 85%),
      radial-gradient(130vw 100vh at -25% 125%, rgba(160,200,255,0.42) 0%, rgba(160,200,255,0) 85%),
      radial-gradient(130vw 100vh at 125% 125%, rgba(196,170,255,0.42) 0%, rgba(196,170,255,0) 85%);
    filter: blur(16px) saturate(112%);
    opacity: .9;
  }
}
/* === 封面柔光緩動動畫（光暈呼吸感） === */
@keyframes auraFloat {
  0%, 100% {
    transform: scale(1);
    opacity: 0.95;
  }
  50% {
    transform: scale(1.05);
    opacity: 1;
  }
}

/* 套用在封面 hero-section 背景 */
.hero-section::before {
  animation: auraFloat 8s ease-in-out infinite;
  transform-origin: center;
}
